\hypertarget{group__wickr__protocol}{}\section{Wickr Protocol}
\label{group__wickr__protocol}\index{Wickr Protocol@{Wickr Protocol}}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structwickr__ephemeral__info}{wickr\+\_\+ephemeral\+\_\+info}
\begin{DoxyCompactList}\small\item\em Message destruction control metadata. \end{DoxyCompactList}\item 
struct \hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta}
\begin{DoxyCompactList}\small\item\em control metadata found in the encrypted payload of a packet \end{DoxyCompactList}\item 
struct \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange}
\begin{DoxyCompactList}\small\item\em Node-\/bound public key exchange data to put in a message header. \end{DoxyCompactList}\item 
struct \hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header}
\begin{DoxyCompactList}\small\item\em The public header of Wickr Packets. Packets can be sent to multiple nodes, the key for the packet body is derived by each recipient node using an individualized key exchange. See Wickr white paper \textquotesingle{}Prepare Packet Header\textquotesingle{} section for more information. \end{DoxyCompactList}\item 
struct \hyperlink{structwickr__payload}{wickr\+\_\+payload}
\begin{DoxyCompactList}\small\item\em The encrypted body content of a Wickr packet. \end{DoxyCompactList}\item 
struct \hyperlink{structwickr__packet}{wickr\+\_\+packet}
\begin{DoxyCompactList}\small\item\em An encrypted packet made with the Wickr protocol. \end{DoxyCompactList}\item 
struct \hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result}
\begin{DoxyCompactList}\small\item\em result from parsing an inbound packet \end{DoxyCompactList}\item 
struct \hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result}
\begin{DoxyCompactList}\small\item\em a packet decoding result \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__wickr__protocol_gad269883d0b8b26c4fa52da595ef5ddf7}{O\+L\+D\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON}~2
\item 
\#define \hyperlink{group__wickr__protocol_ga89ff9f93c5494db53d3ff27353989862}{C\+U\+R\+R\+E\+N\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON}~4
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga146144d74da12c1fff766462fe7fa661}{wickr\+\_\+packet\+\_\+meta\+\_\+create} (\hyperlink{structwickr__ephemeral__info}{wickr\+\_\+ephemeral\+\_\+info\+\_\+t} ephemerality\+\_\+settings, \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$channel\+\_\+tag, uint16\+\_\+t content\+\_\+type)
\item 
\hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga1bb5a0f2a49069679b174b3e6521fe9b}{wickr\+\_\+packet\+\_\+meta\+\_\+copy} (const \hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta\+\_\+t} $\ast$source)
\item 
void \hyperlink{group__wickr__protocol_gad165ad670da761478cf5f8f91223c1d3}{wickr\+\_\+packet\+\_\+meta\+\_\+destroy} (\hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta\+\_\+t} $\ast$$\ast$meta)
\item 
\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_gac2823b3430070b0db9ef1f40d3a804ea}{wickr\+\_\+key\+\_\+exchange\+\_\+create} (\hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$node\+\_\+id, uint64\+\_\+t ephemeral\+\_\+key\+\_\+id, \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$exchange\+\_\+data)
\item 
\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_gac21e7b7fda1612923d83e7e75166209c}{wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+packet\+\_\+key} (const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$engine, const \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$sender, const \hyperlink{structwickr__node}{wickr\+\_\+node\+\_\+t} $\ast$receiver, \hyperlink{structwickr__ec__key}{wickr\+\_\+ec\+\_\+key\+\_\+t} $\ast$packet\+\_\+exchange\+\_\+key, const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$packet\+\_\+key, const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$psk, uint8\+\_\+t version)
\item 
\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga2b967bbdd161d8e37d19c4ab9621771b}{wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+data} (const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$engine, const \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$sender, const \hyperlink{structwickr__node}{wickr\+\_\+node\+\_\+t} $\ast$receiver, \hyperlink{structwickr__ec__key}{wickr\+\_\+ec\+\_\+key\+\_\+t} $\ast$packet\+\_\+exchange\+\_\+key, const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$data\+\_\+to\+\_\+wrap, \hyperlink{structwickr__cipher}{wickr\+\_\+cipher\+\_\+t} exchange\+\_\+cipher, const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$psk, uint8\+\_\+t version)
\item 
\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga2235a7c168e3806aa1a71b5a5c8dee48}{wickr\+\_\+key\+\_\+exchange\+\_\+copy} (const \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$source)
\item 
void \hyperlink{group__wickr__protocol_ga54b6481f8f4b61fb949bec17d47cd3de}{wickr\+\_\+key\+\_\+exchange\+\_\+destroy} (\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$$\ast$exchange)
\item 
wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$ \hyperlink{group__wickr__protocol_ga907d700b76b748f80796b4404c7172c2}{wickr\+\_\+exchange\+\_\+array\+\_\+new} (uint32\+\_\+t exchange\+\_\+count)
\item 
bool \hyperlink{group__wickr__protocol_gad3c6687c07ae5e66efcbc55da0febd85}{wickr\+\_\+exchange\+\_\+array\+\_\+set\+\_\+item} (wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$array, uint32\+\_\+t index, \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$exchange)
\item 
\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga333510c3c7eeb8e33f94495de6bb122d}{wickr\+\_\+exchange\+\_\+array\+\_\+fetch\+\_\+item} (wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$array, uint32\+\_\+t index)
\item 
wickr\+\_\+array\+\_\+t $\ast$ \hyperlink{group__wickr__protocol_gacd04405337871aa3bcd550a051d778e1}{wickr\+\_\+exchange\+\_\+array\+\_\+copy} (wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$array)
\item 
void \hyperlink{group__wickr__protocol_gadc1e5f5836bc09c1d6b8d6203d02a0eb}{wickr\+\_\+exchange\+\_\+array\+\_\+destroy} (wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$$\ast$array)
\item 
\hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga8ad519d1b5dc3960c426db9a556404e1}{wickr\+\_\+packet\+\_\+header\+\_\+create} (\hyperlink{structwickr__ec__key}{wickr\+\_\+ec\+\_\+key\+\_\+t} $\ast$sender\+\_\+pub, wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$exchanges)
\item 
\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_gac9fab2b713e40a607735bcce0befee96}{wickr\+\_\+packet\+\_\+header\+\_\+find} (const \hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$header, const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$node\+\_\+id)
\item 
\hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga5ffb8763c9ebf2ad7322d507d117d7ba}{wickr\+\_\+packet\+\_\+header\+\_\+copy} (const \hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$source)
\item 
void \hyperlink{group__wickr__protocol_gacb41cb9ad58871f01d8660e3ab115f4e}{wickr\+\_\+packet\+\_\+header\+\_\+destroy} (\hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$$\ast$header)
\item 
\hyperlink{structwickr__cipher__result}{wickr\+\_\+cipher\+\_\+result\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga3495440a494c33a38ce4154b400e9809}{wickr\+\_\+packet\+\_\+header\+\_\+encrypt} (const \hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$header, const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$engine, const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$header\+\_\+key)
\item 
\hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga53ff33471ac0c4c7e3feedfcce520639}{wickr\+\_\+packet\+\_\+header\+\_\+create\+\_\+from\+\_\+cipher} (const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$engine, const \hyperlink{structwickr__cipher__result}{wickr\+\_\+cipher\+\_\+result\+\_\+t} $\ast$cipher\+\_\+result, const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$header\+\_\+key)
\item 
\hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_gad7d51d39a8477d87557536ff42399186}{wickr\+\_\+payload\+\_\+create} (\hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta\+\_\+t} $\ast$meta, \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$body)
\item 
\hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga96e1b0eabf307d112985946cbe2f6969}{wickr\+\_\+payload\+\_\+copy} (const \hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$source)
\item 
void \hyperlink{group__wickr__protocol_ga821c48aa748408e47ba2149e1628a487}{wickr\+\_\+payload\+\_\+destroy} (\hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$$\ast$payload)
\item 
\hyperlink{structwickr__cipher__result}{wickr\+\_\+cipher\+\_\+result\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga7e4fd2ad4de22c2f7d6160400d2e15e7}{wickr\+\_\+payload\+\_\+encrypt} (const \hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$payload, const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$engine, const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$payload\+\_\+key)
\item 
\hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_gaeeebf95ba580b92254a91009245028ee}{wickr\+\_\+payload\+\_\+create\+\_\+from\+\_\+cipher} (const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$engine, const \hyperlink{structwickr__cipher__result}{wickr\+\_\+cipher\+\_\+result\+\_\+t} $\ast$cipher\+\_\+result, const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$payload\+\_\+key)
\item 
\hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_gac952913ddaf848d2def181cd55b30883}{wickr\+\_\+packet\+\_\+create} (uint8\+\_\+t version, \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$content, \hyperlink{structwickr__ecdsa__result}{wickr\+\_\+ecdsa\+\_\+result\+\_\+t} $\ast$signature)
\item 
\hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga3427a40815c9f65a78516405d1b88072}{wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+buffer} (const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$buffer)
\item 
\hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_gaa983fe863635b69d69d6d86d01443ecf}{wickr\+\_\+packet\+\_\+serialize} (const \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$packet)
\item 
\hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga0c95ad86819bacf98c11115d748039db}{wickr\+\_\+packet\+\_\+copy} (const \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$source)
\item 
void \hyperlink{group__wickr__protocol_gab15d7556ad2806aa823ec2d3e3bf5a46}{wickr\+\_\+packet\+\_\+destroy} (\hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$$\ast$packet)
\item 
\hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_gac2673bcfeae2f8d693e523809bb6bb30}{wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+failure} (wickr\+\_\+packet\+\_\+signature\+\_\+status signature\+\_\+status, wickr\+\_\+decode\+\_\+error error)
\item 
\hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_gae9d6837e2cea5b64993c124e671bd25f}{wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+success} (\hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$header, \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$key\+\_\+exchange, \hyperlink{structwickr__cipher__result}{wickr\+\_\+cipher\+\_\+result\+\_\+t} $\ast$enc\+\_\+payload)
\item 
\hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga1671066ddc19b38ed05d4460d5a96706}{wickr\+\_\+parse\+\_\+result\+\_\+copy} (const \hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t} $\ast$source)
\item 
void \hyperlink{group__wickr__protocol_ga706d39419c8991f417f37f556cee8df9}{wickr\+\_\+parse\+\_\+result\+\_\+destroy} (\hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t} $\ast$$\ast$result)
\item 
\hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga2bd6f49ed993d2290aaafa514eba43ed}{wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+failure} (wickr\+\_\+decode\+\_\+error decode\+\_\+error)
\item 
\hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga633aaf4cb6159be0110401f06dae458c}{wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+success} (\hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$decrypted\+\_\+payload, \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$payload\+\_\+key)
\item 
\hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga36183bf96372661f890aefbe388bd32a}{wickr\+\_\+decode\+\_\+result\+\_\+copy} (const \hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t} $\ast$result)
\item 
void \hyperlink{group__wickr__protocol_ga94154ab44a6c2e9b97a115e37416efe1}{wickr\+\_\+decode\+\_\+result\+\_\+destroy} (\hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t} $\ast$$\ast$result)
\item 
\hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_gaf34d8082df52a7ade2fea54eea65d342}{wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+components} (const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$engine, const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$header\+\_\+key, const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$payload\+\_\+key, \hyperlink{structwickr__ec__key}{wickr\+\_\+ec\+\_\+key\+\_\+t} $\ast$exchange\+\_\+key, const \hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$payload, const wickr\+\_\+node\+\_\+array\+\_\+t $\ast$recipients, const \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$sender\+\_\+signing\+\_\+identity, uint8\+\_\+t version)
\item 
\hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga1654ef299f9189b27e5e58485f1ffcf5}{wickr\+\_\+parse\+\_\+result\+\_\+from\+\_\+packet} (const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$engine, const \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$packet, const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$receiver\+\_\+node\+\_\+id, wickr\+\_\+header\+\_\+keygen\+\_\+func header\+\_\+keygen\+\_\+func, const \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$sender\+\_\+signing\+\_\+identity)
\item 
\hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t} $\ast$ \hyperlink{group__wickr__protocol_ga32d9da2e10d1d653b2ac894d50aaedb0}{wickr\+\_\+decode\+\_\+result\+\_\+from\+\_\+parse\+\_\+result} (const \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$packet, const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$engine, const \hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t} $\ast$parse\+\_\+result, \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$receiver\+\_\+dev\+\_\+id, \hyperlink{structwickr__ec__key}{wickr\+\_\+ec\+\_\+key\+\_\+t} $\ast$receiver\+\_\+decode\+\_\+key, \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$receiver\+\_\+signing\+\_\+identity, const \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$sender\+\_\+signing\+\_\+identity)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__wickr__protocol_ga89ff9f93c5494db53d3ff27353989862}\label{group__wickr__protocol_ga89ff9f93c5494db53d3ff27353989862}} 
\index{Wickr Protocol@{Wickr Protocol}!C\+U\+R\+R\+E\+N\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON@{C\+U\+R\+R\+E\+N\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON}}
\index{C\+U\+R\+R\+E\+N\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON@{C\+U\+R\+R\+E\+N\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{C\+U\+R\+R\+E\+N\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON}{CURRENT\_PACKET\_VERSION}}
{\footnotesize\ttfamily \#define C\+U\+R\+R\+E\+N\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON~4}

The most recent version of the protocol is version 4 \mbox{\Hypertarget{group__wickr__protocol_gad269883d0b8b26c4fa52da595ef5ddf7}\label{group__wickr__protocol_gad269883d0b8b26c4fa52da595ef5ddf7}} 
\index{Wickr Protocol@{Wickr Protocol}!O\+L\+D\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON@{O\+L\+D\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON}}
\index{O\+L\+D\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON@{O\+L\+D\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{O\+L\+D\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON}{OLDEST\_PACKET\_VERSION}}
{\footnotesize\ttfamily \#define O\+L\+D\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+V\+E\+R\+S\+I\+ON~2}

The oldest packet version supported is version 2 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__wickr__protocol_ga36183bf96372661f890aefbe388bd32a}\label{group__wickr__protocol_ga36183bf96372661f890aefbe388bd32a}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+decode\+\_\+result\+\_\+copy@{wickr\+\_\+decode\+\_\+result\+\_\+copy}}
\index{wickr\+\_\+decode\+\_\+result\+\_\+copy@{wickr\+\_\+decode\+\_\+result\+\_\+copy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+decode\+\_\+result\+\_\+copy()}{wickr\_decode\_result\_copy()}}
{\footnotesize\ttfamily \hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t}$\ast$ wickr\+\_\+decode\+\_\+result\+\_\+copy (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t} $\ast$}]{result }\end{DoxyParamCaption})}

Copy a decode result


\begin{DoxyParams}{Parameters}
{\em result} & the decode result to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated decode result holding a deep copy of the properties of \textquotesingle{}source\textquotesingle{} 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga2bd6f49ed993d2290aaafa514eba43ed}\label{group__wickr__protocol_ga2bd6f49ed993d2290aaafa514eba43ed}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+failure@{wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+failure}}
\index{wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+failure@{wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+failure}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+failure()}{wickr\_decode\_result\_create\_failure()}}
{\footnotesize\ttfamily \hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t}$\ast$ wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+failure (\begin{DoxyParamCaption}\item[{wickr\+\_\+decode\+\_\+error}]{decode\+\_\+error }\end{DoxyParamCaption})}

Create a negative decode result


\begin{DoxyParams}{Parameters}
{\em decode\+\_\+error} & the error found during decoding \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated decode result with error \textquotesingle{}decode\+\_\+error\textquotesingle{} and N\+U\+LL for other properties 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga633aaf4cb6159be0110401f06dae458c}\label{group__wickr__protocol_ga633aaf4cb6159be0110401f06dae458c}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+success@{wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+success}}
\index{wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+success@{wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+success}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+success()}{wickr\_decode\_result\_create\_success()}}
{\footnotesize\ttfamily \hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t}$\ast$ wickr\+\_\+decode\+\_\+result\+\_\+create\+\_\+success (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$}]{decrypted\+\_\+payload,  }\item[{\hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$}]{payload\+\_\+key }\end{DoxyParamCaption})}

Create a positive decode result


\begin{DoxyParams}{Parameters}
{\em decrypted\+\_\+payload} & the decrypted payload found during decoding \\
\hline
{\em payload\+\_\+key} & the payload key derived during decoding \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated decode result with no error 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga94154ab44a6c2e9b97a115e37416efe1}\label{group__wickr__protocol_ga94154ab44a6c2e9b97a115e37416efe1}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+decode\+\_\+result\+\_\+destroy@{wickr\+\_\+decode\+\_\+result\+\_\+destroy}}
\index{wickr\+\_\+decode\+\_\+result\+\_\+destroy@{wickr\+\_\+decode\+\_\+result\+\_\+destroy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+decode\+\_\+result\+\_\+destroy()}{wickr\_decode\_result\_destroy()}}
{\footnotesize\ttfamily void wickr\+\_\+decode\+\_\+result\+\_\+destroy (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t} $\ast$$\ast$}]{result }\end{DoxyParamCaption})}

Destroy a decode result


\begin{DoxyParams}{Parameters}
{\em result} & a pointer to the decode result to destroy. All properties of \textquotesingle{}$\ast$result\textquotesingle{} will also be destroyed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__wickr__protocol_ga32d9da2e10d1d653b2ac894d50aaedb0}\label{group__wickr__protocol_ga32d9da2e10d1d653b2ac894d50aaedb0}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+decode\+\_\+result\+\_\+from\+\_\+parse\+\_\+result@{wickr\+\_\+decode\+\_\+result\+\_\+from\+\_\+parse\+\_\+result}}
\index{wickr\+\_\+decode\+\_\+result\+\_\+from\+\_\+parse\+\_\+result@{wickr\+\_\+decode\+\_\+result\+\_\+from\+\_\+parse\+\_\+result}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+decode\+\_\+result\+\_\+from\+\_\+parse\+\_\+result()}{wickr\_decode\_result\_from\_parse\_result()}}
{\footnotesize\ttfamily \hyperlink{structwickr__decode__result}{wickr\+\_\+decode\+\_\+result\+\_\+t}$\ast$ wickr\+\_\+decode\+\_\+result\+\_\+from\+\_\+parse\+\_\+result (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$}]{packet,  }\item[{const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$}]{engine,  }\item[{const \hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t} $\ast$}]{parse\+\_\+result,  }\item[{\hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{receiver\+\_\+dev\+\_\+id,  }\item[{\hyperlink{structwickr__ec__key}{wickr\+\_\+ec\+\_\+key\+\_\+t} $\ast$}]{receiver\+\_\+decode\+\_\+key,  }\item[{\hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$}]{receiver\+\_\+signing\+\_\+identity,  }\item[{const \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$}]{sender\+\_\+signing\+\_\+identity }\end{DoxyParamCaption})}

Decode a parsed packet payload using a fetched ephemeral decode\+\_\+key

For more information see Wickr white paper (Receiving a Message 6-\/9)

N\+O\+TE\+: This is a low level function that should not be called directly from this A\+PI if it can be avoided. Please use the \textquotesingle{}\hyperlink{structwickr__ctx}{wickr\+\_\+ctx}\textquotesingle{} A\+PI instead since it is a higher level and safer set of functions


\begin{DoxyParams}{Parameters}
{\em packet} & the packet to decode \\
\hline
{\em engine} & a crypto engine \\
\hline
{\em parse\+\_\+result} & a previously generated parse result from \textquotesingle{}packet\textquotesingle{} \\
\hline
{\em receiver\+\_\+dev\+\_\+id} & the \textquotesingle{}msg\+\_\+proto\+\_\+id\textquotesingle{} of \textquotesingle{}\hyperlink{structwickr__dev__info}{wickr\+\_\+dev\+\_\+info}\textquotesingle{} of the recipient \\
\hline
{\em receiver\+\_\+decode\+\_\+key} & the key to attempt to complete the key exchange for discovered in the parse phase, so that the payload can be decoded \\
\hline
{\em receiver\+\_\+signing\+\_\+identity} & the recipient of the packet \\
\hline
{\em sender\+\_\+signing\+\_\+identity} & the sender of the packet used \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a decode result containing decrypted packet information if decode succeeded 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gacd04405337871aa3bcd550a051d778e1}\label{group__wickr__protocol_gacd04405337871aa3bcd550a051d778e1}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+exchange\+\_\+array\+\_\+copy@{wickr\+\_\+exchange\+\_\+array\+\_\+copy}}
\index{wickr\+\_\+exchange\+\_\+array\+\_\+copy@{wickr\+\_\+exchange\+\_\+array\+\_\+copy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+exchange\+\_\+array\+\_\+copy()}{wickr\_exchange\_array\_copy()}}
{\footnotesize\ttfamily wickr\+\_\+array\+\_\+t$\ast$ wickr\+\_\+exchange\+\_\+array\+\_\+copy (\begin{DoxyParamCaption}\item[{wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$}]{array }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em array} & the array to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated key exchange array that contains deep copies of the items from \textquotesingle{}array\textquotesingle{} 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gadc1e5f5836bc09c1d6b8d6203d02a0eb}\label{group__wickr__protocol_gadc1e5f5836bc09c1d6b8d6203d02a0eb}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+exchange\+\_\+array\+\_\+destroy@{wickr\+\_\+exchange\+\_\+array\+\_\+destroy}}
\index{wickr\+\_\+exchange\+\_\+array\+\_\+destroy@{wickr\+\_\+exchange\+\_\+array\+\_\+destroy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+exchange\+\_\+array\+\_\+destroy()}{wickr\_exchange\_array\_destroy()}}
{\footnotesize\ttfamily void wickr\+\_\+exchange\+\_\+array\+\_\+destroy (\begin{DoxyParamCaption}\item[{wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$$\ast$}]{array }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em array} & a pointer to the array to destroy, all items of \textquotesingle{}$\ast$array\textquotesingle{} are also destroyed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__wickr__protocol_ga333510c3c7eeb8e33f94495de6bb122d}\label{group__wickr__protocol_ga333510c3c7eeb8e33f94495de6bb122d}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+exchange\+\_\+array\+\_\+fetch\+\_\+item@{wickr\+\_\+exchange\+\_\+array\+\_\+fetch\+\_\+item}}
\index{wickr\+\_\+exchange\+\_\+array\+\_\+fetch\+\_\+item@{wickr\+\_\+exchange\+\_\+array\+\_\+fetch\+\_\+item}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+exchange\+\_\+array\+\_\+fetch\+\_\+item()}{wickr\_exchange\_array\_fetch\_item()}}
{\footnotesize\ttfamily \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t}$\ast$ wickr\+\_\+exchange\+\_\+array\+\_\+fetch\+\_\+item (\begin{DoxyParamCaption}\item[{wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$}]{array,  }\item[{uint32\+\_\+t}]{index }\end{DoxyParamCaption})}

Fetch a key exchange from an exchange array

N\+O\+TE\+: Calling this function does not make a copy of the exchange being returned, the array still owns it


\begin{DoxyParams}{Parameters}
{\em array} & the array to fetch \textquotesingle{}index\textquotesingle{} from \\
\hline
{\em index} & the index to fetch from \textquotesingle{}array\textquotesingle{} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a key exchange representing \textquotesingle{}index\textquotesingle{} from the array 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga907d700b76b748f80796b4404c7172c2}\label{group__wickr__protocol_ga907d700b76b748f80796b4404c7172c2}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+exchange\+\_\+array\+\_\+new@{wickr\+\_\+exchange\+\_\+array\+\_\+new}}
\index{wickr\+\_\+exchange\+\_\+array\+\_\+new@{wickr\+\_\+exchange\+\_\+array\+\_\+new}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+exchange\+\_\+array\+\_\+new()}{wickr\_exchange\_array\_new()}}
{\footnotesize\ttfamily wickr\+\_\+exchange\+\_\+array\+\_\+t$\ast$ wickr\+\_\+exchange\+\_\+array\+\_\+new (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{exchange\+\_\+count }\end{DoxyParamCaption})}

Allocate a new key exchange array


\begin{DoxyParams}{Parameters}
{\em exchange\+\_\+count} & the number of exchanges the array should hold \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated wickr\+\_\+array for key exchange objects 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gad3c6687c07ae5e66efcbc55da0febd85}\label{group__wickr__protocol_gad3c6687c07ae5e66efcbc55da0febd85}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+exchange\+\_\+array\+\_\+set\+\_\+item@{wickr\+\_\+exchange\+\_\+array\+\_\+set\+\_\+item}}
\index{wickr\+\_\+exchange\+\_\+array\+\_\+set\+\_\+item@{wickr\+\_\+exchange\+\_\+array\+\_\+set\+\_\+item}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+exchange\+\_\+array\+\_\+set\+\_\+item()}{wickr\_exchange\_array\_set\_item()}}
{\footnotesize\ttfamily bool wickr\+\_\+exchange\+\_\+array\+\_\+set\+\_\+item (\begin{DoxyParamCaption}\item[{wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$}]{array,  }\item[{uint32\+\_\+t}]{index,  }\item[{\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$}]{exchange }\end{DoxyParamCaption})}

Set an item in a key exchange array

N\+O\+TE\+: Calling this function does not make a copy of \textquotesingle{}exchange\textquotesingle{}, the array simply takes ownership of it


\begin{DoxyParams}{Parameters}
{\em array} & the array to set \textquotesingle{}exchange\textquotesingle{} into \\
\hline
{\em index} & the location in \textquotesingle{}array\textquotesingle{} to set exchange \\
\hline
{\em exchange} & the exchange to set at position \textquotesingle{}index\textquotesingle{} in \textquotesingle{}array\textquotesingle{} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if setting succeeds, false if the index is out of bounds 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga2235a7c168e3806aa1a71b5a5c8dee48}\label{group__wickr__protocol_ga2235a7c168e3806aa1a71b5a5c8dee48}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+key\+\_\+exchange\+\_\+copy@{wickr\+\_\+key\+\_\+exchange\+\_\+copy}}
\index{wickr\+\_\+key\+\_\+exchange\+\_\+copy@{wickr\+\_\+key\+\_\+exchange\+\_\+copy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+key\+\_\+exchange\+\_\+copy()}{wickr\_key\_exchange\_copy()}}
{\footnotesize\ttfamily \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t}$\ast$ wickr\+\_\+key\+\_\+exchange\+\_\+copy (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$}]{source }\end{DoxyParamCaption})}

Copy a key exchange


\begin{DoxyParams}{Parameters}
{\em source} & the key exchange to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated node holding a deep copy of the properties of \textquotesingle{}source\textquotesingle{} 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gac2823b3430070b0db9ef1f40d3a804ea}\label{group__wickr__protocol_gac2823b3430070b0db9ef1f40d3a804ea}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+key\+\_\+exchange\+\_\+create@{wickr\+\_\+key\+\_\+exchange\+\_\+create}}
\index{wickr\+\_\+key\+\_\+exchange\+\_\+create@{wickr\+\_\+key\+\_\+exchange\+\_\+create}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+key\+\_\+exchange\+\_\+create()}{wickr\_key\_exchange\_create()}}
{\footnotesize\ttfamily \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t}$\ast$ wickr\+\_\+key\+\_\+exchange\+\_\+create (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{node\+\_\+id,  }\item[{uint64\+\_\+t}]{ephemeral\+\_\+key\+\_\+id,  }\item[{\hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{exchange\+\_\+data }\end{DoxyParamCaption})}

Create a key exchange from properties


\begin{DoxyParams}{Parameters}
{\em node\+\_\+id} & see \textquotesingle{}\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange}\textquotesingle{} property documentation property documentation \\
\hline
{\em ephemeral\+\_\+key\+\_\+id} & see \textquotesingle{}\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange}\textquotesingle{} property documentation property documentation \\
\hline
{\em exchange\+\_\+data} & see \textquotesingle{}\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange}\textquotesingle{} property documentation property documentation \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated packet metadata set owning the properties passed in 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga2b967bbdd161d8e37d19c4ab9621771b}\label{group__wickr__protocol_ga2b967bbdd161d8e37d19c4ab9621771b}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+data@{wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+data}}
\index{wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+data@{wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+data}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+data()}{wickr\_key\_exchange\_create\_with\_data()}}
{\footnotesize\ttfamily \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t}$\ast$ wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+data (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$}]{engine,  }\item[{const \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$}]{sender,  }\item[{const \hyperlink{structwickr__node}{wickr\+\_\+node\+\_\+t} $\ast$}]{receiver,  }\item[{\hyperlink{structwickr__ec__key}{wickr\+\_\+ec\+\_\+key\+\_\+t} $\ast$}]{packet\+\_\+exchange\+\_\+key,  }\item[{const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{data\+\_\+to\+\_\+wrap,  }\item[{\hyperlink{structwickr__cipher}{wickr\+\_\+cipher\+\_\+t}}]{exchange\+\_\+cipher,  }\item[{const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{psk,  }\item[{uint8\+\_\+t}]{version }\end{DoxyParamCaption})}

Compute a key exchange given sender/receiver information and bytes to protect (Sender Encoding) This method at a high level creates a shared secret between a sender and receiver (E\+C\+DH), runs the shared secret through a kdf (H\+K\+DF) and then uses the resulting secret as a cipher key to encrypt bytes of data. \textquotesingle{}wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+packet\+\_\+key\textquotesingle{} also exists as a version of this function to specifically wrap cipher\+\_\+keys instead of raw data

See Wickr white paper \textquotesingle{}Prepare Key Exchange Data\textquotesingle{} for more information

N\+O\+TE\+: This is a low level function that should not be called directly from this A\+PI if it can be avoided. Please use the \textquotesingle{}\hyperlink{structwickr__ctx}{wickr\+\_\+ctx}\textquotesingle{} A\+PI instead since it is a higher level and safer set of functions


\begin{DoxyParams}{Parameters}
{\em engine} & a crypto engine supporting E\+C\+DH key exchanges \\
\hline
{\em sender} & the identity chain of the sender \\
\hline
{\em receiver} & the node this key exchange is destined for \\
\hline
{\em packet\+\_\+exchange\+\_\+key} & an EC key to use for the sender side of the E\+C\+DH function, the private component of this key is no longer needed after this function is called. The public component of it will get forwarded in the message header to the receiver \\
\hline
{\em data\+\_\+to\+\_\+wrap} & This is the data we are protecting by the output of the key exchange \\
\hline
{\em exchange\+\_\+cipher} & the cipher that the exchange should use protect \textquotesingle{}data\+\_\+to\+\_\+wrap\textquotesingle{} with \\
\hline
{\em psk} & optional pre-\/shared key data to put into the \textquotesingle{}salt\textquotesingle{} field of H\+K\+DF \\
\hline
{\em version} & the version of the packet being generated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated key exchange object holding public metadata about this exchange and the computed exchange data 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gac21e7b7fda1612923d83e7e75166209c}\label{group__wickr__protocol_gac21e7b7fda1612923d83e7e75166209c}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+packet\+\_\+key@{wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+packet\+\_\+key}}
\index{wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+packet\+\_\+key@{wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+packet\+\_\+key}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+packet\+\_\+key()}{wickr\_key\_exchange\_create\_with\_packet\_key()}}
{\footnotesize\ttfamily \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t}$\ast$ wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+packet\+\_\+key (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$}]{engine,  }\item[{const \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$}]{sender,  }\item[{const \hyperlink{structwickr__node}{wickr\+\_\+node\+\_\+t} $\ast$}]{receiver,  }\item[{\hyperlink{structwickr__ec__key}{wickr\+\_\+ec\+\_\+key\+\_\+t} $\ast$}]{packet\+\_\+exchange\+\_\+key,  }\item[{const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$}]{packet\+\_\+key,  }\item[{const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{psk,  }\item[{uint8\+\_\+t}]{version }\end{DoxyParamCaption})}

Compute a key exchange given sender/receiver information and a packet key to protect (Sender Encoding) Thie function is a convience function around \textquotesingle{}wickr\+\_\+key\+\_\+exchange\+\_\+create\+\_\+with\+\_\+data\textquotesingle{} that determines exchange\+\_\+cipher automaticallly based on \textquotesingle{}packet\+\_\+key\textquotesingle{} cipher and also takes care of serializing \textquotesingle{}packet\+\_\+key\textquotesingle{}

See Wickr white paper \textquotesingle{}Prepare Key Exchange Data\textquotesingle{} for more information

N\+O\+TE\+: This is a low level function that should not be called directly from this A\+PI if it can be avoided. Please use the \textquotesingle{}\hyperlink{structwickr__ctx}{wickr\+\_\+ctx}\textquotesingle{} A\+PI instead since it is a higher level and safer set of functions


\begin{DoxyParams}{Parameters}
{\em engine} & a crypto engine supporting E\+C\+DH key exchanges \\
\hline
{\em sender} & the identity chain of the sender \\
\hline
{\em receiver} & the node this key exchange is destined for \\
\hline
{\em packet\+\_\+exchange\+\_\+key} & an EC key to use for the sender side of the E\+C\+DH function, the private component of this key is no longer needed after this function is called. The public component of it will get forwarded in the message header to the receiver \\
\hline
{\em packet\+\_\+key} & the cipher key to use for encrypting the payload of the message that is being created. This is the data we are protecting \\
\hline
{\em psk} & optional pre-\/shared key data to put into the \textquotesingle{}salt\textquotesingle{} field of H\+K\+DF \\
\hline
{\em version} & the version of the packet being generated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated key exchange object holding public metadata about this exchange and the computed exchange data 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga54b6481f8f4b61fb949bec17d47cd3de}\label{group__wickr__protocol_ga54b6481f8f4b61fb949bec17d47cd3de}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+key\+\_\+exchange\+\_\+destroy@{wickr\+\_\+key\+\_\+exchange\+\_\+destroy}}
\index{wickr\+\_\+key\+\_\+exchange\+\_\+destroy@{wickr\+\_\+key\+\_\+exchange\+\_\+destroy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+key\+\_\+exchange\+\_\+destroy()}{wickr\_key\_exchange\_destroy()}}
{\footnotesize\ttfamily void wickr\+\_\+key\+\_\+exchange\+\_\+destroy (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$$\ast$}]{exchange }\end{DoxyParamCaption})}

Destroy a key exchange


\begin{DoxyParams}{Parameters}
{\em exchange} & a pointer to the key exchange to destroy. All properties of \textquotesingle{}$\ast$exchange\textquotesingle{} will also be destroyed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__wickr__protocol_ga0c95ad86819bacf98c11115d748039db}\label{group__wickr__protocol_ga0c95ad86819bacf98c11115d748039db}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+copy@{wickr\+\_\+packet\+\_\+copy}}
\index{wickr\+\_\+packet\+\_\+copy@{wickr\+\_\+packet\+\_\+copy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+copy()}{wickr\_packet\_copy()}}
{\footnotesize\ttfamily \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+copy (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$}]{source }\end{DoxyParamCaption})}

Copy a packet


\begin{DoxyParams}{Parameters}
{\em source} & the packet to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated packet holding a deep copy of the properties of \textquotesingle{}source\textquotesingle{} 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gac952913ddaf848d2def181cd55b30883}\label{group__wickr__protocol_gac952913ddaf848d2def181cd55b30883}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+create@{wickr\+\_\+packet\+\_\+create}}
\index{wickr\+\_\+packet\+\_\+create@{wickr\+\_\+packet\+\_\+create}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+create()}{wickr\_packet\_create()}}
{\footnotesize\ttfamily \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+create (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{version,  }\item[{\hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{content,  }\item[{\hyperlink{structwickr__ecdsa__result}{wickr\+\_\+ecdsa\+\_\+result\+\_\+t} $\ast$}]{signature }\end{DoxyParamCaption})}

Create a packet from components


\begin{DoxyParams}{Parameters}
{\em version} & see \textquotesingle{}wickr\+\_\+protocol\textquotesingle{} property documentation property documentation \\
\hline
{\em content} & see \textquotesingle{}wickr\+\_\+protocol\textquotesingle{} property documentation property documentation \\
\hline
{\em signature} & see \textquotesingle{}wickr\+\_\+protocol\textquotesingle{} property documentation property documentation \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated packet owning the properties passed in 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga3427a40815c9f65a78516405d1b88072}\label{group__wickr__protocol_ga3427a40815c9f65a78516405d1b88072}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+buffer@{wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+buffer}}
\index{wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+buffer@{wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+buffer}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+buffer()}{wickr\_packet\_create\_from\_buffer()}}
{\footnotesize\ttfamily \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+buffer (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{buffer }\end{DoxyParamCaption})}

Parse a packet from a buffer generated by \textquotesingle{}wickr\+\_\+packet\+\_\+serialize\textquotesingle{}


\begin{DoxyParams}{Parameters}
{\em buffer} & a buffer output from \textquotesingle{}wickr\+\_\+packet\+\_\+serialize\textquotesingle{} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated packet using parsed data from \textquotesingle{}buffer\textquotesingle{} or N\+U\+LL if parsing fails 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gaf34d8082df52a7ade2fea54eea65d342}\label{group__wickr__protocol_gaf34d8082df52a7ade2fea54eea65d342}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+components@{wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+components}}
\index{wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+components@{wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+components}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+components()}{wickr\_packet\_create\_from\_components()}}
{\footnotesize\ttfamily \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+create\+\_\+from\+\_\+components (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$}]{engine,  }\item[{const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$}]{header\+\_\+key,  }\item[{const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$}]{payload\+\_\+key,  }\item[{\hyperlink{structwickr__ec__key}{wickr\+\_\+ec\+\_\+key\+\_\+t} $\ast$}]{exchange\+\_\+key,  }\item[{const \hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$}]{payload,  }\item[{const wickr\+\_\+node\+\_\+array\+\_\+t $\ast$}]{recipients,  }\item[{const \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$}]{sender\+\_\+signing\+\_\+identity,  }\item[{uint8\+\_\+t}]{version }\end{DoxyParamCaption})}

Generate a packet given components

For more information see Wickr white paper (Sending a Message)

N\+O\+TE\+: This is a low level function that should not be called directly from this A\+PI if it can be avoided. Please use the \textquotesingle{}\hyperlink{structwickr__ctx}{wickr\+\_\+ctx}\textquotesingle{} A\+PI instead since it is a higher level and safer set of functions


\begin{DoxyParams}{Parameters}
{\em engine} & a crypto engine capable of E\+C\+DH and signing operations using exchange\+\_\+key, and cipher operations using payload\+\_\+key \\
\hline
{\em header\+\_\+key} & the key to encrypt the header of the message with \\
\hline
{\em payload\+\_\+key} & the key to encrypt the payload of the message with \\
\hline
{\em exchange\+\_\+key} & the key to use as the local key exchange keypair, the public side of this key will wind up in the resulting packet header \\
\hline
{\em payload} & the plaintext payload to encrypt and bundle into the packet \\
\hline
{\em recipients} & the array of nodes that the \\
\hline
{\em sender\+\_\+signing\+\_\+identity} & the identity chain belonging to the creator of the packet \\
\hline
{\em version} & the version of the protocol encoding to use for this packet \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a \textquotesingle{}sender\+\_\+signing\+\_\+identity\textquotesingle{} signed packet containing encrypted payload \textquotesingle{}payload, and header containing key exchanges for \textquotesingle{}recipients\textquotesingle{} 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gab15d7556ad2806aa823ec2d3e3bf5a46}\label{group__wickr__protocol_gab15d7556ad2806aa823ec2d3e3bf5a46}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+destroy@{wickr\+\_\+packet\+\_\+destroy}}
\index{wickr\+\_\+packet\+\_\+destroy@{wickr\+\_\+packet\+\_\+destroy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+destroy()}{wickr\_packet\_destroy()}}
{\footnotesize\ttfamily void wickr\+\_\+packet\+\_\+destroy (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$$\ast$}]{packet }\end{DoxyParamCaption})}

Destroy a packet


\begin{DoxyParams}{Parameters}
{\em packet} & a pointer to the packet to destroy. All properties of \textquotesingle{}$\ast$packet\textquotesingle{} will also be destroyed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__wickr__protocol_ga5ffb8763c9ebf2ad7322d507d117d7ba}\label{group__wickr__protocol_ga5ffb8763c9ebf2ad7322d507d117d7ba}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+header\+\_\+copy@{wickr\+\_\+packet\+\_\+header\+\_\+copy}}
\index{wickr\+\_\+packet\+\_\+header\+\_\+copy@{wickr\+\_\+packet\+\_\+header\+\_\+copy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+header\+\_\+copy()}{wickr\_packet\_header\_copy()}}
{\footnotesize\ttfamily \hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+header\+\_\+copy (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$}]{source }\end{DoxyParamCaption})}

Copy a packet header


\begin{DoxyParams}{Parameters}
{\em source} & the packet header to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated packet header holding a deep copy of the properties of \textquotesingle{}source\textquotesingle{} 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga8ad519d1b5dc3960c426db9a556404e1}\label{group__wickr__protocol_ga8ad519d1b5dc3960c426db9a556404e1}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+header\+\_\+create@{wickr\+\_\+packet\+\_\+header\+\_\+create}}
\index{wickr\+\_\+packet\+\_\+header\+\_\+create@{wickr\+\_\+packet\+\_\+header\+\_\+create}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+header\+\_\+create()}{wickr\_packet\_header\_create()}}
{\footnotesize\ttfamily \hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+header\+\_\+create (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__ec__key}{wickr\+\_\+ec\+\_\+key\+\_\+t} $\ast$}]{sender\+\_\+pub,  }\item[{wickr\+\_\+exchange\+\_\+array\+\_\+t $\ast$}]{exchanges }\end{DoxyParamCaption})}

Create a packet header from components


\begin{DoxyParams}{Parameters}
{\em sender\+\_\+pub} & see \textquotesingle{}\hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header}\textquotesingle{} property documentation property documentation \\
\hline
{\em exchanges} & see \textquotesingle{}\hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header}\textquotesingle{} property documentation property documentation \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated packet header owning the properties passed in 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga53ff33471ac0c4c7e3feedfcce520639}\label{group__wickr__protocol_ga53ff33471ac0c4c7e3feedfcce520639}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+header\+\_\+create\+\_\+from\+\_\+cipher@{wickr\+\_\+packet\+\_\+header\+\_\+create\+\_\+from\+\_\+cipher}}
\index{wickr\+\_\+packet\+\_\+header\+\_\+create\+\_\+from\+\_\+cipher@{wickr\+\_\+packet\+\_\+header\+\_\+create\+\_\+from\+\_\+cipher}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+header\+\_\+create\+\_\+from\+\_\+cipher()}{wickr\_packet\_header\_create\_from\_cipher()}}
{\footnotesize\ttfamily \hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+header\+\_\+create\+\_\+from\+\_\+cipher (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$}]{engine,  }\item[{const \hyperlink{structwickr__cipher__result}{wickr\+\_\+cipher\+\_\+result\+\_\+t} $\ast$}]{cipher\+\_\+result,  }\item[{const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$}]{header\+\_\+key }\end{DoxyParamCaption})}

Decrypt-\/\+Then-\/\+Deserialize a packet header

N\+O\+TE\+: This is a low level function that should not be called directly from this A\+PI if it can be avoided. Please use the \textquotesingle{}\hyperlink{structwickr__ctx}{wickr\+\_\+ctx}\textquotesingle{} A\+PI instead since it is a higher level and safer set of functions


\begin{DoxyParams}{Parameters}
{\em engine} & a crypto engine capable of decryption using header\+\_\+key \\
\hline
{\em cipher\+\_\+result} & an encrypted packet header \\
\hline
{\em header\+\_\+key} & the key to use for decryption \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a decrypted packet header or N\+U\+LL if the decryption key is incorrect 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gacb41cb9ad58871f01d8660e3ab115f4e}\label{group__wickr__protocol_gacb41cb9ad58871f01d8660e3ab115f4e}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+header\+\_\+destroy@{wickr\+\_\+packet\+\_\+header\+\_\+destroy}}
\index{wickr\+\_\+packet\+\_\+header\+\_\+destroy@{wickr\+\_\+packet\+\_\+header\+\_\+destroy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+header\+\_\+destroy()}{wickr\_packet\_header\_destroy()}}
{\footnotesize\ttfamily void wickr\+\_\+packet\+\_\+header\+\_\+destroy (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$$\ast$}]{header }\end{DoxyParamCaption})}

Destroy a packet header


\begin{DoxyParams}{Parameters}
{\em header} & a pointer to the packet header to destroy. All properties of \textquotesingle{}$\ast$header\textquotesingle{} will also be destroyed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__wickr__protocol_ga3495440a494c33a38ce4154b400e9809}\label{group__wickr__protocol_ga3495440a494c33a38ce4154b400e9809}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+header\+\_\+encrypt@{wickr\+\_\+packet\+\_\+header\+\_\+encrypt}}
\index{wickr\+\_\+packet\+\_\+header\+\_\+encrypt@{wickr\+\_\+packet\+\_\+header\+\_\+encrypt}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+header\+\_\+encrypt()}{wickr\_packet\_header\_encrypt()}}
{\footnotesize\ttfamily \hyperlink{structwickr__cipher__result}{wickr\+\_\+cipher\+\_\+result\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+header\+\_\+encrypt (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$}]{header,  }\item[{const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$}]{engine,  }\item[{const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$}]{header\+\_\+key }\end{DoxyParamCaption})}

Serialize-\/\+Then-\/\+Encrypt a packet header

Packet headers are serialized using protocol buffers (message.\+pb-\/c.\+h)

N\+O\+TE\+: This is a low level function that should not be called directly from this A\+PI if it can be avoided. Please use the \textquotesingle{}\hyperlink{structwickr__ctx}{wickr\+\_\+ctx}\textquotesingle{} A\+PI instead since it is a higher level and safer set of functions


\begin{DoxyParams}{Parameters}
{\em header} & the header to encrypt \\
\hline
{\em engine} & a crypto engine capable of encryption using header\+\_\+key \\
\hline
{\em header\+\_\+key} & the key to encrypt the header with \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
an encrypted header 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gac9fab2b713e40a607735bcce0befee96}\label{group__wickr__protocol_gac9fab2b713e40a607735bcce0befee96}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+header\+\_\+find@{wickr\+\_\+packet\+\_\+header\+\_\+find}}
\index{wickr\+\_\+packet\+\_\+header\+\_\+find@{wickr\+\_\+packet\+\_\+header\+\_\+find}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+header\+\_\+find()}{wickr\_packet\_header\_find()}}
{\footnotesize\ttfamily \hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+header\+\_\+find (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$}]{header,  }\item[{const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{node\+\_\+id }\end{DoxyParamCaption})}

Find a particular entry in the exchange list of a packet header


\begin{DoxyParams}{Parameters}
{\em header} & the header to search \\
\hline
{\em node\+\_\+id} & the node identifier of the exchange to find \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the key exchange for \textquotesingle{}node\+\_\+id\textquotesingle{} or N\+U\+LL if it cannot be found 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga1bb5a0f2a49069679b174b3e6521fe9b}\label{group__wickr__protocol_ga1bb5a0f2a49069679b174b3e6521fe9b}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+meta\+\_\+copy@{wickr\+\_\+packet\+\_\+meta\+\_\+copy}}
\index{wickr\+\_\+packet\+\_\+meta\+\_\+copy@{wickr\+\_\+packet\+\_\+meta\+\_\+copy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+meta\+\_\+copy()}{wickr\_packet\_meta\_copy()}}
{\footnotesize\ttfamily \hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+meta\+\_\+copy (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta\+\_\+t} $\ast$}]{source }\end{DoxyParamCaption})}

Copy an packet metadata set


\begin{DoxyParams}{Parameters}
{\em source} & the packet metadata set to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly packet metadata set holding a deep copy of the properties of \textquotesingle{}source\textquotesingle{} 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga146144d74da12c1fff766462fe7fa661}\label{group__wickr__protocol_ga146144d74da12c1fff766462fe7fa661}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+meta\+\_\+create@{wickr\+\_\+packet\+\_\+meta\+\_\+create}}
\index{wickr\+\_\+packet\+\_\+meta\+\_\+create@{wickr\+\_\+packet\+\_\+meta\+\_\+create}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+meta\+\_\+create()}{wickr\_packet\_meta\_create()}}
{\footnotesize\ttfamily \hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+meta\+\_\+create (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__ephemeral__info}{wickr\+\_\+ephemeral\+\_\+info\+\_\+t}}]{ephemerality\+\_\+settings,  }\item[{\hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{channel\+\_\+tag,  }\item[{uint16\+\_\+t}]{content\+\_\+type }\end{DoxyParamCaption})}

Construct packet metadata from components


\begin{DoxyParams}{Parameters}
{\em ephemerality\+\_\+settings} & see \textquotesingle{}\hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta}\textquotesingle{} property documentation property documentation \\
\hline
{\em channel\+\_\+tag} & see \textquotesingle{}\hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta}\textquotesingle{} property documentation property documentation \\
\hline
{\em content\+\_\+type} & see \textquotesingle{}\hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta}\textquotesingle{} property documentation property documentation \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated packet metadata set owning the properties passed in 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gad165ad670da761478cf5f8f91223c1d3}\label{group__wickr__protocol_gad165ad670da761478cf5f8f91223c1d3}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+meta\+\_\+destroy@{wickr\+\_\+packet\+\_\+meta\+\_\+destroy}}
\index{wickr\+\_\+packet\+\_\+meta\+\_\+destroy@{wickr\+\_\+packet\+\_\+meta\+\_\+destroy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+meta\+\_\+destroy()}{wickr\_packet\_meta\_destroy()}}
{\footnotesize\ttfamily void wickr\+\_\+packet\+\_\+meta\+\_\+destroy (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta\+\_\+t} $\ast$$\ast$}]{meta }\end{DoxyParamCaption})}

Destroy packet metadata set


\begin{DoxyParams}{Parameters}
{\em meta} & a pointer to the result to destroy. All properties of \textquotesingle{}$\ast$meta\textquotesingle{} will also be destroyed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__wickr__protocol_gaa983fe863635b69d69d6d86d01443ecf}\label{group__wickr__protocol_gaa983fe863635b69d69d6d86d01443ecf}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+packet\+\_\+serialize@{wickr\+\_\+packet\+\_\+serialize}}
\index{wickr\+\_\+packet\+\_\+serialize@{wickr\+\_\+packet\+\_\+serialize}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+packet\+\_\+serialize()}{wickr\_packet\_serialize()}}
{\footnotesize\ttfamily \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t}$\ast$ wickr\+\_\+packet\+\_\+serialize (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$}]{packet }\end{DoxyParamCaption})}

Serialize a packet to a buffer


\begin{DoxyParams}{Parameters}
{\em packet} & the packet to serialize \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a buffer representing the packet in the following format\+: $\vert$ V\+E\+R\+S\+I\+ON (4\+B\+I\+TS) S\+I\+G\+N\+A\+T\+U\+R\+E\+\_\+\+C\+U\+R\+V\+E\+\_\+\+ID (4\+B\+I\+TS) $\vert$ C\+O\+N\+T\+E\+NT $\vert$ S\+I\+G\+N\+A\+T\+U\+RE OF C\+O\+N\+T\+E\+NT $\vert$ 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga1671066ddc19b38ed05d4460d5a96706}\label{group__wickr__protocol_ga1671066ddc19b38ed05d4460d5a96706}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+parse\+\_\+result\+\_\+copy@{wickr\+\_\+parse\+\_\+result\+\_\+copy}}
\index{wickr\+\_\+parse\+\_\+result\+\_\+copy@{wickr\+\_\+parse\+\_\+result\+\_\+copy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+parse\+\_\+result\+\_\+copy()}{wickr\_parse\_result\_copy()}}
{\footnotesize\ttfamily \hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t}$\ast$ wickr\+\_\+parse\+\_\+result\+\_\+copy (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t} $\ast$}]{source }\end{DoxyParamCaption})}

Copy a parse result


\begin{DoxyParams}{Parameters}
{\em source} & the parse result to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated parse result holding a deep copy of the properties of \textquotesingle{}source\textquotesingle{} 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gac2673bcfeae2f8d693e523809bb6bb30}\label{group__wickr__protocol_gac2673bcfeae2f8d693e523809bb6bb30}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+failure@{wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+failure}}
\index{wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+failure@{wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+failure}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+failure()}{wickr\_parse\_result\_create\_failure()}}
{\footnotesize\ttfamily \hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t}$\ast$ wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+failure (\begin{DoxyParamCaption}\item[{wickr\+\_\+packet\+\_\+signature\+\_\+status}]{signature\+\_\+status,  }\item[{wickr\+\_\+decode\+\_\+error}]{error }\end{DoxyParamCaption})}

Create a negative parse result due to a failure


\begin{DoxyParams}{Parameters}
{\em signature\+\_\+status} & status of packet signature validation \\
\hline
{\em error} & error message related to parsing the packet \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a parse result containing the provided status information and N\+U\+LL properties 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gae9d6837e2cea5b64993c124e671bd25f}\label{group__wickr__protocol_gae9d6837e2cea5b64993c124e671bd25f}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+success@{wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+success}}
\index{wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+success@{wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+success}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+success()}{wickr\_parse\_result\_create\_success()}}
{\footnotesize\ttfamily \hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t}$\ast$ wickr\+\_\+parse\+\_\+result\+\_\+create\+\_\+success (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__packet__header}{wickr\+\_\+packet\+\_\+header\+\_\+t} $\ast$}]{header,  }\item[{\hyperlink{structwickr__key__exchange}{wickr\+\_\+key\+\_\+exchange\+\_\+t} $\ast$}]{key\+\_\+exchange,  }\item[{\hyperlink{structwickr__cipher__result}{wickr\+\_\+cipher\+\_\+result\+\_\+t} $\ast$}]{enc\+\_\+payload }\end{DoxyParamCaption})}

Create a positive parse result


\begin{DoxyParams}{Parameters}
{\em header} & the parsed header information \\
\hline
{\em key\+\_\+exchange} & discovered key exchange for a particular requested node, or N\+U\+LL if no node was specified \\
\hline
{\em enc\+\_\+payload} & the encrypted payload parsed from the message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a parse result containing the provided information and non-\/error codes for \textquotesingle{}signature\+\_\+status\textquotesingle{} and \textquotesingle{}err\textquotesingle{} 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga706d39419c8991f417f37f556cee8df9}\label{group__wickr__protocol_ga706d39419c8991f417f37f556cee8df9}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+parse\+\_\+result\+\_\+destroy@{wickr\+\_\+parse\+\_\+result\+\_\+destroy}}
\index{wickr\+\_\+parse\+\_\+result\+\_\+destroy@{wickr\+\_\+parse\+\_\+result\+\_\+destroy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+parse\+\_\+result\+\_\+destroy()}{wickr\_parse\_result\_destroy()}}
{\footnotesize\ttfamily void wickr\+\_\+parse\+\_\+result\+\_\+destroy (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t} $\ast$$\ast$}]{result }\end{DoxyParamCaption})}

Destroy a parse result


\begin{DoxyParams}{Parameters}
{\em result} & a pointer to the parse result to destroy. All properties of \textquotesingle{}$\ast$result\textquotesingle{} will also be destroyed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__wickr__protocol_ga1654ef299f9189b27e5e58485f1ffcf5}\label{group__wickr__protocol_ga1654ef299f9189b27e5e58485f1ffcf5}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+parse\+\_\+result\+\_\+from\+\_\+packet@{wickr\+\_\+parse\+\_\+result\+\_\+from\+\_\+packet}}
\index{wickr\+\_\+parse\+\_\+result\+\_\+from\+\_\+packet@{wickr\+\_\+parse\+\_\+result\+\_\+from\+\_\+packet}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+parse\+\_\+result\+\_\+from\+\_\+packet()}{wickr\_parse\_result\_from\_packet()}}
{\footnotesize\ttfamily \hyperlink{structwickr__parse__result}{wickr\+\_\+parse\+\_\+result\+\_\+t}$\ast$ wickr\+\_\+parse\+\_\+result\+\_\+from\+\_\+packet (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$}]{engine,  }\item[{const \hyperlink{structwickr__packet}{wickr\+\_\+packet\+\_\+t} $\ast$}]{packet,  }\item[{const \hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{receiver\+\_\+node\+\_\+id,  }\item[{wickr\+\_\+header\+\_\+keygen\+\_\+func}]{header\+\_\+keygen\+\_\+func,  }\item[{const \hyperlink{structwickr__identity__chain}{wickr\+\_\+identity\+\_\+chain\+\_\+t} $\ast$}]{sender\+\_\+signing\+\_\+identity }\end{DoxyParamCaption})}

Parse a received packet and validate it\textquotesingle{}s signature

For more information see Wickr white paper (Receiving a Message 1-\/5)

N\+O\+TE\+: This is a low level function that should not be called directly from this A\+PI if it can be avoided. Please use the \textquotesingle{}\hyperlink{structwickr__ctx}{wickr\+\_\+ctx}\textquotesingle{} A\+PI instead since it is a higher level and safer set of functions


\begin{DoxyParams}{Parameters}
{\em engine} & a crypto engine \\
\hline
{\em packet} & the packet to parse \\
\hline
{\em receiver\+\_\+node\+\_\+id} & node\+\_\+id of the recipient. If set, parsing will fail if a node\+\_\+id labeled key exchange is not found in the decoded header\textquotesingle{}s key exchange list. If not set, the resulting parse result will contain N\+U\+LL for the key exchange and simply return all other properties \\
\hline
{\em header\+\_\+keygen\+\_\+func} & a function that can generate a header key for this packet \\
\hline
{\em sender\+\_\+signing\+\_\+identity} & the sender of the packet \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a parse result containing a successful or unsuccessful error and signature status 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga96e1b0eabf307d112985946cbe2f6969}\label{group__wickr__protocol_ga96e1b0eabf307d112985946cbe2f6969}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+payload\+\_\+copy@{wickr\+\_\+payload\+\_\+copy}}
\index{wickr\+\_\+payload\+\_\+copy@{wickr\+\_\+payload\+\_\+copy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+payload\+\_\+copy()}{wickr\_payload\_copy()}}
{\footnotesize\ttfamily \hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t}$\ast$ wickr\+\_\+payload\+\_\+copy (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$}]{source }\end{DoxyParamCaption})}

Copy a payload


\begin{DoxyParams}{Parameters}
{\em source} & the payload to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated payload holding a deep copy of the properties of \textquotesingle{}source\textquotesingle{} 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gad7d51d39a8477d87557536ff42399186}\label{group__wickr__protocol_gad7d51d39a8477d87557536ff42399186}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+payload\+\_\+create@{wickr\+\_\+payload\+\_\+create}}
\index{wickr\+\_\+payload\+\_\+create@{wickr\+\_\+payload\+\_\+create}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+payload\+\_\+create()}{wickr\_payload\_create()}}
{\footnotesize\ttfamily \hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t}$\ast$ wickr\+\_\+payload\+\_\+create (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__packet__meta}{wickr\+\_\+packet\+\_\+meta\+\_\+t} $\ast$}]{meta,  }\item[{\hyperlink{structwickr__buffer}{wickr\+\_\+buffer\+\_\+t} $\ast$}]{body }\end{DoxyParamCaption})}

Create a payload from components


\begin{DoxyParams}{Parameters}
{\em meta} & see \textquotesingle{}\hyperlink{structwickr__payload}{wickr\+\_\+payload}\textquotesingle{} property documentation property documentation \\
\hline
{\em body} & see \textquotesingle{}\hyperlink{structwickr__payload}{wickr\+\_\+payload}\textquotesingle{} property documentation property documentation \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a newly allocated payload owning the properties passed in 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_gaeeebf95ba580b92254a91009245028ee}\label{group__wickr__protocol_gaeeebf95ba580b92254a91009245028ee}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+payload\+\_\+create\+\_\+from\+\_\+cipher@{wickr\+\_\+payload\+\_\+create\+\_\+from\+\_\+cipher}}
\index{wickr\+\_\+payload\+\_\+create\+\_\+from\+\_\+cipher@{wickr\+\_\+payload\+\_\+create\+\_\+from\+\_\+cipher}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+payload\+\_\+create\+\_\+from\+\_\+cipher()}{wickr\_payload\_create\_from\_cipher()}}
{\footnotesize\ttfamily \hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t}$\ast$ wickr\+\_\+payload\+\_\+create\+\_\+from\+\_\+cipher (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$}]{engine,  }\item[{const \hyperlink{structwickr__cipher__result}{wickr\+\_\+cipher\+\_\+result\+\_\+t} $\ast$}]{cipher\+\_\+result,  }\item[{const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$}]{payload\+\_\+key }\end{DoxyParamCaption})}

Decrypt-\/\+Then-\/\+Deserialize

N\+O\+TE\+: This is a low level function that should not be called directly from this A\+PI if it can be avoided. Please use the \textquotesingle{}\hyperlink{structwickr__ctx}{wickr\+\_\+ctx}\textquotesingle{} A\+PI instead since it is a higher level and safer set of functions


\begin{DoxyParams}{Parameters}
{\em engine} & a crypto engine capable of decryption using payload\+\_\+key \\
\hline
{\em cipher\+\_\+result} & an encrypted payload \\
\hline
{\em payload\+\_\+key} & the key to use for decrypting \textquotesingle{}cipher\+\_\+result\textquotesingle{} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a payload or N\+U\+LL if an incorrect key is provided 
\end{DoxyReturn}
\mbox{\Hypertarget{group__wickr__protocol_ga821c48aa748408e47ba2149e1628a487}\label{group__wickr__protocol_ga821c48aa748408e47ba2149e1628a487}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+payload\+\_\+destroy@{wickr\+\_\+payload\+\_\+destroy}}
\index{wickr\+\_\+payload\+\_\+destroy@{wickr\+\_\+payload\+\_\+destroy}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+payload\+\_\+destroy()}{wickr\_payload\_destroy()}}
{\footnotesize\ttfamily void wickr\+\_\+payload\+\_\+destroy (\begin{DoxyParamCaption}\item[{\hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$$\ast$}]{payload }\end{DoxyParamCaption})}

Destroy a payload


\begin{DoxyParams}{Parameters}
{\em payload} & a pointer to the payload to destroy. All properties of \textquotesingle{}$\ast$payload\textquotesingle{} will also be destroyed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__wickr__protocol_ga7e4fd2ad4de22c2f7d6160400d2e15e7}\label{group__wickr__protocol_ga7e4fd2ad4de22c2f7d6160400d2e15e7}} 
\index{Wickr Protocol@{Wickr Protocol}!wickr\+\_\+payload\+\_\+encrypt@{wickr\+\_\+payload\+\_\+encrypt}}
\index{wickr\+\_\+payload\+\_\+encrypt@{wickr\+\_\+payload\+\_\+encrypt}!Wickr Protocol@{Wickr Protocol}}
\subsubsection{\texorpdfstring{wickr\+\_\+payload\+\_\+encrypt()}{wickr\_payload\_encrypt()}}
{\footnotesize\ttfamily \hyperlink{structwickr__cipher__result}{wickr\+\_\+cipher\+\_\+result\+\_\+t}$\ast$ wickr\+\_\+payload\+\_\+encrypt (\begin{DoxyParamCaption}\item[{const \hyperlink{structwickr__payload}{wickr\+\_\+payload\+\_\+t} $\ast$}]{payload,  }\item[{const \hyperlink{structwickr__crypto__engine}{wickr\+\_\+crypto\+\_\+engine\+\_\+t} $\ast$}]{engine,  }\item[{const \hyperlink{structwickr__cipher__key}{wickr\+\_\+cipher\+\_\+key\+\_\+t} $\ast$}]{payload\+\_\+key }\end{DoxyParamCaption})}

Serialize-\/\+Then-\/\+Encrypt a payload

Payloads are serialized using protocol buffers (message.\+pb-\/c.\+h) N\+O\+TE\+: This is a low level function that should not be called directly from this A\+PI if it can be avoided. Please use the \textquotesingle{}\hyperlink{structwickr__ctx}{wickr\+\_\+ctx}\textquotesingle{} A\+PI instead since it is a higher level and safer set of functions


\begin{DoxyParams}{Parameters}
{\em payload} & the payload to encrypt \\
\hline
{\em engine} & a crypto engine capable of encryption using payload\+\_\+key \\
\hline
{\em payload\+\_\+key} & the key to use for encryption \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
an encrypted payload 
\end{DoxyReturn}
